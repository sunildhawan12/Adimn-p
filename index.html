<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Panel</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
  <link rel="stylesheet" href="style.css">
  <!-- html2canvas (for screenshot) -->

</head>
<body>

<div class="admin-box" id="adminPanel">
  <h2>🛠 Admin Panel</h2>

  <div class="password-wrapper">
    <input type="password" id="adminPassInput" placeholder="Enter Admin Password">
    <i class="fas fa-eye" id="togglePass" onclick="togglePassword()"></i>
  </div>
  <button onclick="verifyAdmin()" style="background-color:#6c5ce7; color:white; margin-top:10px;">🔓 Login</button>

  <div class="admin-buttons">
    <a href="https://sunildhawan12.github.io/RUDRA-ACADEMY-THE-SCHOOL/"
       style="display:inline-block;width: 290px; margin-top:10px; text-decoration:none; background:#d63031; color:white; padding:10px 20px; border-radius:5px;">
       🔙 Back
    </a>
    <button style="background-color: #27ae60; color: #fff;" onclick="toggleFeedback()">🆘 Help Center</button>
  </div>

  <p id="adminMsg"></p>
</div>

<!-- 📊 Attendance Table Section -->
<div id="historySection" style="display:none; text-align:center; height:auto; overflow:visible;">


  <div id="summary" style="margin: 20px; text-align: center; font-weight: bold;">
  👥 Total Users: <span id="totalUsers">0</span> |
  🟢 Total Attendance (IN): <span id="totalAttendance">0</span>
</div>


  <!-- Search Box & Date Filter -->
  <div style="margin-bottom: 15px;">
    <input type="text" id="searchInput" placeholder="🔍 Search by ID.No OR Name..." 
         oninput="filterTable()"
         style="padding: 10px; width: 250px; border-radius: 6px; border: 1px solid #ccc;" />
    <input type="date" id="dateFilterInput" onchange="filterTableByDate()"
           style="padding:8px; margin-left:10px; border:1px solid #ccc; border-radius:5px;">
  </div>

  <!-- Attendance Table -->
  
<div class="table-wrapper">
  <table id="historyTable" style="margin:auto; width:90%; margin-top:10px; ">
    
    <thead>
      <tr >
        <th>ID/No.</th>
        <th>Name/Phone</th>
        <th>Date/Time</th>
        <th>Location</th>
        <th style="padding: -5px;">Status</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Buttons -->
  <div style="margin:20px;">
    <button style="background-color: #00b894; color: #fff;" onclick="downloadHistoryPDF()">📥 Download PDF</button>
    <button style="background-color: #e74c3c; color: #fff;" onclick="backToAdminPanel()">🔓 Logout</button>
  </div>

</div>


<!-- 💬 Feedback Form -->
  <div id="feedbackForm" style="text-align: center;">
     <h3>🆘 Help Center</h3>
    <input type="text" id="idInput" placeholder="Enter Your ID.No">
    <textarea id="messageInput" placeholder="✍️ Describe your issue or question....."></textarea>
    <button style="background-color: #026af1;" onclick="sendFeedback()">📨 Submit</button>
    
    <button style="background-color: #d63031;" onclick="closeFeedback()" class="back-btn">🔙 Back</button>
    <p id="thankyou"></p>
  </div>


<script src="script.js"></script>

</body>
</html>
