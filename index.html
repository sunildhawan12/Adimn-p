<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
<!-- 🔐 Admin Panel -->
<div class="admin-box" id="adminPanel">
  <h2>🛠 Admin Panel</h2>
  <div class="password-wrapper">
    <input type="password" id="adminPassInput" placeholder="Enter Admin Password">
    <i class="fas fa-eye" id="togglePass" onclick="togglePassword()"></i>
  </div>
  <button onclick="verifyAdmin()" style="background-color:#6c5ce7; color:white;width: 270px; margin-top:10px;">🔓 Login</button>
  
  <div class="admin-buttons">
    <a href="https://sunildhawan12.github.io/RUDRA-ACADEMY-THE-SCHOOL/"
       style="display:inline-block;width: 270px; margin-top:10px; text-decoration:none; background:#d63031; color:white; padding:10px 20px; border-radius:10px;">
       🔙 Back
    </a>
  </div>
    <button onclick="toggleFeedback()" style="background-color: #00cec9; color: white;width: 270px;">🆘 Help Center</button>
  
  <p id="adminMsg"></p>
</div>

<!-- 📊 Attendance Section -->
 <div id="historySection" style="display:none; text-align:center; padding: 10px; height:auto; overflow:visible; background-color: #fff;">
  
  <div id="summary">
    👥 Total Users: <span id="totalUsers">0</span> |
    🟢 Total Attendance (IN): <span id="totalAttendance">0</span>
  </div>

  <input style="border: none; margin: 10px; padding: 10px; border-radius: 5px;" type="text" id="searchInput" placeholder="🔍 Search by ID or Name..." oninput="filterTable()"><br>
  Date : <input style="padding: 7px; border: 1px solid gray; border-radius: 5px; margin: 5px;" type="date" id="filterDate" onchange="filterByDate()" />
 <button style="background-color: #d63031; color: #fff; padding: -3px;" onclick="document.getElementById('filterDate').value=''; filterByDate();">Clear Filter</button>
<div class="table-wrapper">
  <div style="overflow-x: auto;" id="historyTable">
    <h2 style="text-align: center; margin: 10px;">📊 Attendance History</h2>
       <table style=" border-collapse: collapse; border: 1px solid rgb(243, 146, 82); font-size: 12px; border-radius: 5px;">
         <thead>
            <tr  style="background: #eeeb59; border: 1px solid black;">
              <th style="padding: 7px; border: 1px solid black;">ID.NO</th>
              <th style="padding: 7px; border: 1px solid black;">Name/Phone</th>
              <th style="padding: 10px; border: 1px solid black;">Date/Time</th>
              <th style="padding: 10px; border: 1px solid black;">Location</th>
             <th style="padding: -10px; border: 1px solid black; color: greenyellow;">Status</th>
            </tr>
         </thead>
        <tbody style="border: 1px solid black;" id="historyTableBody"></tbody>
      </table>
    </div>
</div>

    <div style="margin-top: 20px; box-shadow: 0 0 5px #546965; margin: 10px; padding: 5px; border-radius: 10px;">
       <button onclick="downloadHistoryPDF()" style="background:#27ae60; color:white;">📥 Download PDF</button>
       <button onclick="backToAdminPanel()" style="background:#e74c3c; color:white;">🔓 Logout</button>
    </div>
  </div>
  


 

<!-- 💬 Feedback Form -->
<div id="feedbackForm" style="margin-top: 150px;">
  <h2 >🆘 Help Center</h2>
  <input style="margin-top: 20px;" type="text" id="idInput" placeholder="Enter ID">
  <textarea id="messageInput" placeholder="Your message..." style="width:100%; height:100px;"></textarea>
  <p id="thankyou"></p>
  <button onclick="sendFeedback()" style="background:#0984e3; color:white; width: 300px;">🆘 Send Message</button>
  
   <button onclick="backToAdminPanel()"style=" color:white; width: 300px;">🔙 Back to Admin Panel</button>
</div>

<script src="script.js"></script>
</body>
</html>
